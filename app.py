import streamlit as st
import time

# ë¬¸êµ¬ ëª©ë¡ (ë„ê· ë‹˜ì´ ì›í•˜ëŠ” ë¬¸êµ¬ë¡œ ììœ ë¡­ê²Œ ìˆ˜ì • ê°€ëŠ¥!)
sentences = [
    "ì•ˆ ì´‰ì´‰í•œ ì´ˆì½”ì¹© ë‚˜ë¼ì— ì‚´ë˜ ì•ˆ ì´‰ì´‰í•œ ì´ˆì½”ì¹©ì´ ì´‰ì´‰í•œ ì´ˆì½”ì¹© ë‚˜ë¼ì˜ ì´‰ì´‰í•œ ì´ˆì½”ì¹©ì„ ë³´ê³ ...",
    "ì„œìš¸íŠ¹ë³„ì‹œ íŠ¹í—ˆí—ˆê°€ê³¼ í—ˆê°€ê³¼ì¥ í—ˆê³¼ì¥",
    "ë™¤ì•½ë³• ì•„ë˜ì„œ ë˜ ì–‘ê¿ ë¨¹ìœ¼ë©° ëœ€ë°•ì§ˆí•˜ëŠ” ë”ë°•ì´",
    "ì „ìê¸°í•™ì  ë§¥ìŠ¤ì›° ë°©ì •ì‹ì˜ ì‹œê³µê°„ì  ì—°ì†ì„±ì„ ì¦ëª…í•˜ì‹œì˜¤."
]

st.set_page_config(page_title="MT ì·¨ì¤‘ íƒ€ìì™•", page_icon="ğŸº")
st.title("ğŸº MT ì·¨ì¤‘ íƒ€ì ëŒ€í•­ì „")

# ì„¸ì…˜ ìƒíƒœ ì´ˆê¸°í™”
if 'start_time' not in st.session_state:
    st.session_state.start_time = None

# ë¬¸ì¥ ì„ íƒ (ë¬¸ì¥ì„ ë°”ê¾¸ë©´ ìë™ìœ¼ë¡œ ì´ˆê¸°í™”ë¨)
target = st.selectbox("ë„ì „í•  ë¬¸ì¥ì„ ê³ ë¥´ì„¸ìš”", sentences)

# ì…ë ¥ì°½ (ì—¬ê¸°ì„œ í•µì‹¬ì€ keyë¥¼ ë¶€ì—¬í•˜ì§€ ì•Šê³  ë‹¨ìˆœíˆ ì…ë ¥ì„ ë°›ëŠ” ê²ƒì…ë‹ˆë‹¤)
user_input = st.text_input("ì—¬ê¸°ì— ì…ë ¥í•˜ê³  'ì—”í„°'ë¥¼ ëˆ„ë¥´ì„¸ìš”!")

# ì…ë ¥ ì‹œì‘ ì‹œê°„ ê¸°ë¡
if user_input == "" and st.session_state.start_time is None:
    st.session_state.start_time = time.time()

# ê²°ê³¼ íŒì •
if user_input:
    if user_input == target:
        end_time = time.time()
        duration = end_time - st.session_state.start_time
        st.success(f"ğŸ‰ ì„±ê³µ! ê¸°ë¡: {duration:.2f}ì´ˆ")
        st.balloons()
        
        # ë‹¤ì‹œ í•˜ê¸° ë²„íŠ¼: í´ë¦­ ì‹œ í˜ì´ì§€ ì „ì²´ë¥¼ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ì´ˆê¸°í™”
        if st.button("ì²˜ìŒë¶€í„° ë‹¤ì‹œ ë„ì „"):
            st.rerun()
    else:
        st.error("âŒ ì˜¤íƒ€ê°€ ìˆì–´ìš”! ë‹¤ì‹œ í™•ì¸í•´ë³´ì„¸ìš”.")
        # í‹€ë ¸ì„ ë•Œ íŒíŠ¸ (ì–´ë””ê°€ í‹€ë ¸ëŠ”ì§€ ë³´ì—¬ì£¼ë©´ ë” ì¬ë°ŒìŒ)
        st.info(f"ì •ë‹µ: {target}")
